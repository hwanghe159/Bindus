<div class="container">
    <div class="row">
        <div class="col">
            <div style="margin:10%;">
                <ngb-carousel>
                    <ng-template ngbSlide>
                        <img src="{{moim.data().placeimg[0]}}" alt="Random first slide">
                        <div class="carousel-caption">
                        </div>
                    </ng-template>
                    <ng-template ngbSlide>
                        <img src="{{moim.data().placeimg[1]}}" alt="Random second slide">
                        <div class="carousel-caption">
                        </div>
                    </ng-template>
                    <ng-template ngbSlide>
                        <img src="{{moim.data().placeimg[2]}}" alt="Random third slide">
                        <div class="carousel-caption">
                        </div>
                    </ng-template>
                </ngb-carousel>
            </div>

        </div>
        <div class="col">
            <div class="moim_contents" style="margin:10%">
                <br>
                <h4>{{moim.data().title}}</h4><br><br>
                <img class="icon"
                    src="https://image.flaticon.com/icons/svg/149/149452.svg">리더:{{moim.data().leader}}<br>
                <img class="icon" src="https://image.flaticon.com/icons/svg/149/149226.svg">장소:{{moim.data().location}}
                {{moim.data().place}}<br>
                <img class="icon"
                    src="https://image.flaticon.com/icons/svg/149/149377.svg">일시:{{moim.data().date.seconds* 1000 | date:'yyyy-MM-dd hh:mm a'}}
                {{moim.data().date_str}}<br>
                <br><br>
                <button type="button" class="btn btn-danger btn-block" (click)="registrate()">신청하기</button>

            </div>
        </div>
    </div>
    <hr>
    <div class="row">
        <div class="col">
            <div style="margin:10%">

                {{moim.data().intro}}
            </div>
        </div>
        <div class="col">
            <div style="margin:10%">
                <p style="text-align:center">이 모임에 참여한 사람들</p>
                <ul>
                    <li *ngFor="let user of users">
                        <a routerLink="/page/{{user.id.substring(0,6)}}">
                            <img src="{{user.data().img}}" class="rounded-circle" width="50" height="50">
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
<hr>
    <div class="row">
        <div class="col" style="margin:5%">
            <form [formGroup]="reviewForm">
                <div>
                    <div style="display:inline;">
                        <div style="display:inline-block; width:90% ">
                        <input type="text" class="form-control" formControlName="content" placeholder="리뷰를 입력해주세요."
                            required></div>
                            <div style="display:inline-block; width:8%; margin-left:0.5%  "><button type="submit" class="btn btn-secondary btn-block" (click)="onSubmit()">등록</button></div>                 
                    <!-- <div class="submit-button" style="display:inline; width:20%">
                        <button type="submit" class="btn btn-secondary btn-block" (click)="onSubmit()">리뷰 남기기</button>
                        <br>
                    </div> -->
                </div>
            </div>
            </form>

<br>

            <div class="limiter">
                <div class="container-table100">
                    <div class="wrap-table100">
                        <div class="table100">
                            <table class="table">
                                <thead class="thead-light">
                                    <tr class="table100-head">
                                        <td style="width:20%; text-align:center;">이름</td>
                                        <td style="width:60%; text-align:center" >내용</td>
                                        <td style="width:30%; text-align:center">작성일</td>
                                        <!-- <td>Salary</td> -->
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let review of reviews | paginate: config; let idx=index">
                                        <td style="text-align:center">{{review.data().writer}}</td>
                                        <td style="text-align:center">{{review.data().content}} </td>
                                        <td> {{review.data().time.seconds * 1000 | date:'yyyy-MM-dd hh:mm a'}}</td>
                                        <!-- <td>{{emp.employee_age}}</td> -->
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <div style="text-align:center">
            <pagination-controls  previousLabel="이전"
            nextLabel="다음" (pageChange)="pageChanged($event)"></pagination-controls>
        </div>
        </div>

    </div>
</div>



<!-- <h1>{{moim.data().title}}</h1>
<h2>{{moim.data().intro}}</h2>

<div id="carouselExampleControls" class="carousel slide" data-ride="carousel" style="width: 50%">
    <div class="carousel-inner">
        <div class="carousel-item {{i===0? 'active': ''}}" *ngFor='let pic of place_pics; let i = index'>
            <img src={{pic}} class="d-block w-100" alt="...">
        </div>
    </div>
    <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div>

<div>
    리더 : {{moim.data().leader}}<br>
    장소 : {{moim.data().location}} {{moim.data().place}}<br>
    일시 : {{moim.data().date.seconds * 1000 | date:'yyyy-MM-dd hh:mm a'}}<br>
</div>

<div>
    <button (click)="registrate()">신청하기</button>
</div>

<div>
    이 모임에 참여한 사람들 :
    <ul>
        <li *ngFor="let user of users">
            <a routerLink="/page/{{user.id.substring(0,6)}}">
            <img src="{{user.data().img}}" class="rounded-circle" width="50" height="50">
            </a>
        </li>
    </ul>
</div> -->